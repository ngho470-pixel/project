TEST: D (multi-join-class chain AND-only)
QUERY:
SELECT COUNT(*) FROM orders;

ENABLED POLICIES:
orders : orders.o_custkey = customer.c_custkey AND customer.c_nationkey = nation.n_nationkey AND nation.n_regionkey = region.r_regionkey AND region.r_name IN ('EUROPE','ASIA')

EXPLAIN OFF (custom_filter.enabled=off):
Aggregate
  ->  Index Only Scan using cf_rls_k11_orders_o_orderstatus_20 on orders

EXPLAIN ON (custom_filter.enabled=on):
ERROR: ERROR:  custom_filter: missing artifacts: customer_code_base, customer_ctid, dict/region/r_name, meta/cols/customer, meta/cols/nation, meta/cols/orders, meta/cols/region, meta/dict_sorted/region/r_name, meta/dict_type/region/r_name, meta/join_classes, nation_code_base, nation_ctid, orders_code_base, orders_ctid, region_code_base, region_ctid
--- ON notices ---
NOTICE:  policy_eval: target=orders tokens=IDENT:orders.o_custkey OP:= IDENT:customer.c_custkey AND:and IDENT:customer.c_nationkey OP:= IDENT:nation.n_nationkey AND:and IDENT:nation.n_regionkey OP:= IDENT:region.r_regionkey AND:and IDENT:region.r_name OP:in LPAREN:( STRING:'EUROPE' COMMA:, STRING:'ASIA' RPAREN:)
NOTICE:  policy_eval: target=orders join_classes=[0, 1, 2]
NOTICE:  policy_eval: policy[1] target=orders expr=orders.o_custkey = customer.c_custkey AND customer.c_nationkey = nation.n_nationkey AND nation.n_regionkey = region.r_regionkey AND region.r_name IN ('EUROPE','ASIA') ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: atom y1 = const:region.r_name|in|ASIA,EUROPE
NOTICE:  policy_eval: atom y2 = join:customer.c_custkey=orders.o_custkey
NOTICE:  policy_eval: atom y3 = join:customer.c_nationkey=nation.n_nationkey
NOTICE:  policy_eval: atom y4 = join:nation.n_regionkey=region.r_regionkey
NOTICE:  policy_eval: combined_ast target=orders ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: closure_count=4
NOTICE:  policy_eval: target=orders tokens=IDENT:orders.o_custkey OP:= IDENT:customer.c_custkey AND:and IDENT:customer.c_nationkey OP:= IDENT:nation.n_nationkey AND:and IDENT:nation.n_regionkey OP:= IDENT:region.r_regionkey AND:and IDENT:region.r_name OP:in LPAREN:( STRING:'EUROPE' COMMA:, STRING:'ASIA' RPAREN:)
NOTICE:  policy_eval: target=orders join_classes=[0, 1, 2]
NOTICE:  policy_eval: policy[1] target=orders expr=orders.o_custkey = customer.c_custkey AND customer.c_nationkey = nation.n_nationkey AND nation.n_regionkey = region.r_regionkey AND region.r_name IN ('EUROPE','ASIA') ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: atom y1 = const:region.r_name|in|ASIA,EUROPE
NOTICE:  policy_eval: atom y2 = join:customer.c_custkey=orders.o_custkey
NOTICE:  policy_eval: atom y3 = join:customer.c_nationkey=nation.n_nationkey
NOTICE:  policy_eval: atom y4 = join:nation.n_regionkey=region.r_regionkey
NOTICE:  policy_eval: combined_ast target=orders ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: closure_count=4

OURS EXECUTION:
ERROR: ERROR:  custom_filter: missing artifacts: customer_code_base, customer_ctid, dict/region/r_name, meta/cols/customer, meta/cols/nation, meta/cols/orders, meta/cols/region, meta/dict_sorted/region/r_name, meta/dict_type/region/r_name, meta/join_classes, nation_code_base, nation_ctid, orders_code_base, orders_ctid, region_code_base, region_ctid
--- Ours notices ---
NOTICE:  policy_eval: target=orders tokens=IDENT:orders.o_custkey OP:= IDENT:customer.c_custkey AND:and IDENT:customer.c_nationkey OP:= IDENT:nation.n_nationkey AND:and IDENT:nation.n_regionkey OP:= IDENT:region.r_regionkey AND:and IDENT:region.r_name OP:in LPAREN:( STRING:'EUROPE' COMMA:, STRING:'ASIA' RPAREN:)
NOTICE:  policy_eval: target=orders join_classes=[0, 1, 2]
NOTICE:  policy_eval: policy[1] target=orders expr=orders.o_custkey = customer.c_custkey AND customer.c_nationkey = nation.n_nationkey AND nation.n_regionkey = region.r_regionkey AND region.r_name IN ('EUROPE','ASIA') ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: atom y1 = const:region.r_name|in|ASIA,EUROPE
NOTICE:  policy_eval: atom y2 = join:customer.c_custkey=orders.o_custkey
NOTICE:  policy_eval: atom y3 = join:customer.c_nationkey=nation.n_nationkey
NOTICE:  policy_eval: atom y4 = join:nation.n_regionkey=region.r_regionkey
NOTICE:  policy_eval: combined_ast target=orders ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: closure_count=4
NOTICE:  policy_eval: target=orders tokens=IDENT:orders.o_custkey OP:= IDENT:customer.c_custkey AND:and IDENT:customer.c_nationkey OP:= IDENT:nation.n_nationkey AND:and IDENT:nation.n_regionkey OP:= IDENT:region.r_regionkey AND:and IDENT:region.r_name OP:in LPAREN:( STRING:'EUROPE' COMMA:, STRING:'ASIA' RPAREN:)
NOTICE:  policy_eval: target=orders join_classes=[0, 1, 2]
NOTICE:  policy_eval: policy[1] target=orders expr=orders.o_custkey = customer.c_custkey AND customer.c_nationkey = nation.n_nationkey AND nation.n_regionkey = region.r_regionkey AND region.r_name IN ('EUROPE','ASIA') ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: atom y1 = const:region.r_name|in|ASIA,EUROPE
NOTICE:  policy_eval: atom y2 = join:customer.c_custkey=orders.o_custkey
NOTICE:  policy_eval: atom y3 = join:customer.c_nationkey=nation.n_nationkey
NOTICE:  policy_eval: atom y4 = join:nation.n_regionkey=region.r_regionkey
NOTICE:  policy_eval: combined_ast target=orders ast=y2 and y3 and y4 and y1
NOTICE:  policy_eval: closure_count=4

GROUND TRUTH SOURCE: sql
GT COUNT: 60036
