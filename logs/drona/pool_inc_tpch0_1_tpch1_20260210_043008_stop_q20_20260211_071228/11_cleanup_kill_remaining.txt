 
bash: -c: option requires an argument
=== before: pid file + pgrep ===
67667
67673 /home/nghosh/research/z3_lab/venv/bin/python -u fast_sweep_profile_60s.py --run --dbs tpch0_1 tpch1 --ks 1 5 10 15 20 --policy-pool 1-20 --policy /tmp/z3_lab/policy.txt --queries /tmp/z3_lab/queries.txt --policies-enabled /tmp/z3_lab/policies_enabled.txt --custom-filter-so /tmp/z3_lab/custom_filter.so --artifact-builder-so /tmp/z3_lab/artifact_builder.so --hot-runs 5 --statement-timeout 1800s --correctness-sample 0 --times-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/times.csv --profile-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/profile.csv --correctness-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/correctness.csv --summary-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/summary.csv --plots-dir /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/plots --seed 20260210
81736 zsh -c bash -lc  set -euo pipefail RUN=/home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008  echo "=== before: pid file + pgrep ===" cat "$RUN/pid" || true pgrep -af "fast_sweep_profile_60s.py --run" || true  echo "=== before: ps (ppid) ===" for p in $(pgrep -f "fast_sweep_profile_60s.py --run" || true); do   ps -p "$p" -o pid,ppid,stat,etime,%cpu,%mem,cmd || true done  # Cancel/terminate active backends on tpch0_1 excluding ourselves. export PGPASSWORD=12345  echo "=== cancel active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY now()-query_start DESC; " || true  psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_cancel_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  sleep 2  echo "=== terminate remaining active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  # Kill harness processes by pattern (since pid-file wrapper may be dead). echo "=== kill harness procs (pattern) ===" PIDS=$(pgrep -f "fast_sweep_profile_60s.py --run" || true) echo "pids=$PIDS" if [ -n "$PIDS" ]; then   kill -TERM $PIDS || true   sleep 1   kill -KILL $PIDS || true fi  echo "=== after: pgrep ===" pgrep -af "fast_sweep_profile_60s.py --run" || true  # Check no active queries remain  echo "=== after: active backends ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, state, now()-query_start AS age, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY age DESC; " || true 
=== before: ps (ppid) ===
    PID    PPID STAT     ELAPSED %CPU %MEM CMD
  67673       1 Sl      02:49:10  0.2  0.0 /home/nghosh/research/z3_lab/venv/bin/python -u fast_sweep_profile_60s.py --run --dbs tpch0_1 tpch1 --ks 1 5 10 15 20 --policy-pool 1-20 --policy /tmp/z3_lab/policy.txt --queries /tmp/z3_lab/queries.txt --policies-enabled /tmp/z3_lab/policies_enabled.txt --custom-filter-so /tmp/z3_lab/custom_filter.so --artifact-builder-so /tmp/z3_lab/artifact_builder.so --hot-runs 5 --statement-timeout 1800s --correctness-sample 0 --times-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/times.csv --profile-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/profile.csv --correctness-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/correctness.csv --summary-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/summary.csv --plots-dir /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/plots --seed 20260210
    PID    PPID STAT     ELAPSED %CPU %MEM CMD
  81736   81735 Ss         00:00  0.0  0.0 zsh -c bash -lc  set -euo pipefail RUN=/home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008  echo "=== before: pid file + pgrep ===" cat "$RUN/pid" || true pgrep -af "fast_sweep_profile_60s.py --run" || true  echo "=== before: ps (ppid) ===" for p in $(pgrep -f "fast_sweep_profile_60s.py --run" || true); do   ps -p "$p" -o pid,ppid,stat,etime,%cpu,%mem,cmd || true done  # Cancel/terminate active backends on tpch0_1 excluding ourselves. export PGPASSWORD=12345  echo "=== cancel active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY now()-query_start DESC; " || true  psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_cancel_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  sleep 2  echo "=== terminate remaining active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  # Kill harness processes by pattern (since pid-file wrapper may be dead). echo "=== kill harness procs (pattern) ===" PIDS=$(pgrep -f "fast_sweep_profile_60s.py --run" || true) echo "pids=$PIDS" if [ -n "$PIDS" ]; then   kill -TERM $PIDS || true   sleep 1   kill -KILL $PIDS || true fi  echo "=== after: pgrep ===" pgrep -af "fast_sweep_profile_60s.py --run" || true  # Check no active queries remain  echo "=== after: active backends ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, state, now()-query_start AS age, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY age DESC; " || true 
    PID    PPID STAT     ELAPSED %CPU %MEM CMD
=== cancel active backends (exclude self) ===
  pid  |                                                            q                                                             
-------+--------------------------------------------------------------------------------------------------------------------------
 81367 | select s_name, s_address from supplier, nation where s_suppkey in ( select ps_suppkey from partsupp where ps_partkey in 
 81746 |                                                                                                                         +
       | SELECT pid, left(query,120) AS q                                                                                        +
       | FROM pg_stat_activity                                                                                                   +
       | WHERE datname='tpch0_1' AND state='active'                                                                              +
       | ORDER BY now()-query_
(2 rows)

 pg_cancel_backend 
-------------------
 t
(1 row)

=== terminate remaining active backends (exclude self) ===
 pg_terminate_backend 
----------------------
 t
(1 row)

=== kill harness procs (pattern) ===
pids=67673
81736
81756
zsh:kill:45: illegal pid: 67673\n81736\n81756
=== after: pgrep ===
zsh:kill:47: illegal pid: 67673\n81736\n81756
67673 /home/nghosh/research/z3_lab/venv/bin/python -u fast_sweep_profile_60s.py --run --dbs tpch0_1 tpch1 --ks 1 5 10 15 20 --policy-pool 1-20 --policy /tmp/z3_lab/policy.txt --queries /tmp/z3_lab/queries.txt --policies-enabled /tmp/z3_lab/policies_enabled.txt --custom-filter-so /tmp/z3_lab/custom_filter.so --artifact-builder-so /tmp/z3_lab/artifact_builder.so --hot-runs 5 --statement-timeout 1800s --correctness-sample 0 --times-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/times.csv --profile-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/profile.csv --correctness-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/correctness.csv --summary-csv /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/summary.csv --plots-dir /home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008/plots --seed 20260210
81736 zsh -c bash -lc  set -euo pipefail RUN=/home/nghosh/research/z3_lab/logs/pool_inc_tpch0_1_tpch1_20260210_043008  echo "=== before: pid file + pgrep ===" cat "$RUN/pid" || true pgrep -af "fast_sweep_profile_60s.py --run" || true  echo "=== before: ps (ppid) ===" for p in $(pgrep -f "fast_sweep_profile_60s.py --run" || true); do   ps -p "$p" -o pid,ppid,stat,etime,%cpu,%mem,cmd || true done  # Cancel/terminate active backends on tpch0_1 excluding ourselves. export PGPASSWORD=12345  echo "=== cancel active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY now()-query_start DESC; " || true  psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_cancel_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  sleep 2  echo "=== terminate remaining active backends (exclude self) ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' AND pid <> pg_backend_pid(); " || true  # Kill harness processes by pattern (since pid-file wrapper may be dead). echo "=== kill harness procs (pattern) ===" PIDS=$(pgrep -f "fast_sweep_profile_60s.py --run" || true) echo "pids=$PIDS" if [ -n "$PIDS" ]; then   kill -TERM $PIDS || true   sleep 1   kill -KILL $PIDS || true fi  echo "=== after: pgrep ===" pgrep -af "fast_sweep_profile_60s.py --run" || true  # Check no active queries remain  echo "=== after: active backends ===" psql -h localhost -U postgres -d tpch0_1 -P pager=off -c " SELECT pid, state, now()-query_start AS age, left(query,120) AS q FROM pg_stat_activity WHERE datname='tpch0_1' AND state='active' ORDER BY age DESC; " || true 
=== after: active backends ===
  pid  | state  |       age       |                                                            q                                                             
-------+--------+-----------------+--------------------------------------------------------------------------------------------------------------------------
 81758 | active | 00:00:01.058769 | select s_name, count(*) as numwait from supplier, lineitem l1, orders, nation where s_suppkey = l1.l_suppkey and o_order
 81766 | active | 00:00:00        |                                                                                                                         +
       |        |                 | SELECT pid, state, now()-query_start AS age, left(query,120) AS q                                                       +
       |        |                 | FROM pg_stat_activity                                                                                                   +
       |        |                 | WHERE datname='tpch0_1' AND sta
(2 rows)

