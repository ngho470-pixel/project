 
=== EXPLAIN off (no custom_filter) ===
bash: -c: option requires an argument
SET
SET
SET
SET
SET
                                                                                                                                                                                                    QUERY PLAN                                                                                                                                                                                                    
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Output: supplier.s_name, supplier.s_address
   Sort Key: supplier.s_name
   ->  Nested Loop
         Output: supplier.s_name, supplier.s_address
         Join Filter: (supplier.s_nationkey = nation.n_nationkey)
         ->  Seq Scan on public.nation
               Output: nation.n_nationkey, nation.n_name, nation.n_regionkey, nation.n_comment
               Filter: (nation.n_name = 'BRAZIL'::bpchar)
         ->  Nested Loop Semi Join
               Output: supplier.s_name, supplier.s_address, supplier.s_nationkey
               Join Filter: (supplier.s_suppkey = partsupp.ps_suppkey)
               ->  Seq Scan on public.supplier
                     Output: supplier.s_suppkey, supplier.s_name, supplier.s_address, supplier.s_nationkey, supplier.s_phone, supplier.s_acctbal, supplier.s_comment
               ->  Materialize
                     Output: partsupp.ps_suppkey
                     ->  Nested Loop Semi Join
                           Output: partsupp.ps_suppkey
                           Join Filter: (partsupp.ps_partkey = part.p_partkey)
                           ->  Seq Scan on public.partsupp
                                 Output: partsupp.ps_partkey, partsupp.ps_suppkey, partsupp.ps_availqty, partsupp.ps_supplycost, partsupp.ps_comment
                                 Filter: ((partsupp.ps_availqty)::numeric > (SubPlan 1))
                                 SubPlan 1
                                   ->  Aggregate
                                         Output: (0.5 * sum(lineitem.l_quantity))
                                         ->  Seq Scan on public.lineitem
                                               Output: lineitem.l_orderkey, lineitem.l_partkey, lineitem.l_suppkey, lineitem.l_linenumber, lineitem.l_quantity, lineitem.l_extendedprice, lineitem.l_discount, lineitem.l_tax, lineitem.l_returnflag, lineitem.l_linestatus, lineitem.l_shipdate, lineitem.l_commitdate, lineitem.l_receiptdate, lineitem.l_shipinstruct, lineitem.l_shipmode, lineitem.l_comment
                                               Filter: ((lineitem.l_shipdate >= '1995-01-01'::date) AND (lineitem.l_shipdate < '1996-01-01 00:00:00'::timestamp without time zone) AND (lineitem.l_partkey = partsupp.ps_partkey) AND (lineitem.l_suppkey = partsupp.ps_suppkey))
                           ->  Materialize
                                 Output: part.p_partkey
                                 ->  Seq Scan on public.part
                                       Output: part.p_partkey
                                       Filter: ((part.p_name)::text ~~ 'midnight%'::text)
(33 rows)

=== EXPLAIN on (custom_filter enabled) ===
SET
SET
SET
SET
LOAD
SET
SET
SET
SET
NOTICE:  policy_profile: eval_ms=0.074 artifact_load_ms=19.408 artifact_parse_ms=0.025 stamp_ms=22.608 bin_ms=10.596 local_sat_ms=0.283 prop_ms=0.000 prop_iters=0 decode_ms=0.000 policy_total_ms=38.991 ctid_map_ms=2.944 filter_ms=0.000 child_exec_ms=0.000 ctid_extract_ms=0.000 ctid_to_rid_ms=0.000 allow_check_ms=0.000 projection_ms=0.000 n_scanned_tables=5 n_policy_targets=1 n_filters=1 bytes_artifacts_loaded=12011519 bytes_allow=75072 bytes_ctid=4804576 bytes_blk_index=1584188 rows_seen=0 rows_passed=0 ctid_misses=0 rss_kb_before_eval=-1 rss_kb_after_eval=-1 rss_kb_after_load=-1 rss_kb_after_engine=-1 rss_kb_after_ctid=-1 rss_kb_end=-1 peak_rss_kb_end=-1
                                                                                                                                          QUERY PLAN                                                                                                                                          
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Output: supplier.s_name, supplier.s_address
   Sort Key: supplier.s_name
   ->  Nested Loop
         Output: supplier.s_name, supplier.s_address
         Join Filter: (supplier.s_nationkey = nation.n_nationkey)
         ->  Custom Scan (custom_filter) on public.nation
               Output: nation.n_nationkey
               custom_filter: 
               ->  Seq Scan on public.nation
                     Output: nation.n_nationkey
                     Filter: (nation.n_name = 'BRAZIL'::bpchar)
         ->  Nested Loop Semi Join
               Output: supplier.s_name, supplier.s_address, supplier.s_nationkey
               Join Filter: (supplier.s_suppkey = partsupp.ps_suppkey)
               ->  Custom Scan (custom_filter) on public.supplier
                     Output: supplier.s_name, supplier.s_address, supplier.s_nationkey, supplier.s_suppkey
                     custom_filter: 
                     ->  Seq Scan on public.supplier
                           Output: supplier.s_name, supplier.s_address, supplier.s_nationkey, supplier.s_suppkey
               ->  Materialize
                     Output: partsupp.ps_suppkey
                     ->  Nested Loop Semi Join
                           Output: partsupp.ps_suppkey
                           Join Filter: (partsupp.ps_partkey = part.p_partkey)
                           ->  Custom Scan (custom_filter) on public.partsupp
                                 Output: partsupp.ps_partkey, partsupp.ps_suppkey
                                 custom_filter: 
                                 ->  Seq Scan on public.partsupp
                                       Output: partsupp.ps_partkey, partsupp.ps_suppkey
                                       Filter: ((partsupp.ps_availqty)::numeric > (SubPlan 1))
                                       SubPlan 1
                                         ->  Aggregate
                                               Output: (0.5 * sum(lineitem.l_quantity))
                                               ->  Custom Scan (custom_filter) on public.lineitem
                                                     Output: lineitem.l_quantity
                                                     custom_filter: 
                                                     ->  Seq Scan on public.lineitem
                                                           Output: lineitem.l_quantity
                                                           Filter: ((lineitem.l_shipdate >= '1995-01-01'::date) AND (lineitem.l_shipdate < '1996-01-01 00:00:00'::timestamp without time zone) AND (lineitem.l_partkey = partsupp.ps_partkey) AND (lineitem.l_suppkey = partsupp.ps_suppkey))
                           ->  Materialize
                                 Output: part.p_partkey
                                 ->  Custom Scan (custom_filter) on public.part
                                       Output: part.p_partkey
                                       custom_filter: 
                                       ->  Seq Scan on public.part
                                             Output: part.p_partkey
                                             Filter: ((part.p_name)::text ~~ 'midnight%'::text)
(48 rows)

